
//Instala Ansible 
$ sudo apt install ansible

//Instala Vagrant 
$ sudo apt install vagrant

//Crear entorno de pruebas
$ mkdir ansible-test && cd ansible-test

$ vagrant init ubuntu/bionic64
$ vagrant up

$ vagrant status
$ vagrant ssh

$ vagrant destroy

//Modificar Vagrantfile para usar 1024 MB de memoria y ejecutar Ansible en la VM

  config.vm.provider "virtualbox" do |vb|
    vb.memory = "1024"
  end
  
  config.vm.provision "ansible" do |ansible|
    ansible.playbook = "provisioning/playbook.yml"
    ansible.extra_vars = {
        ansible_python_interpreter: "/usr/bin/python3",
    }
  end

//Creamos el playbook
$ mkdir provisioning && cd provisioning && touch playbook.yml

//Habilitamos vagrant como una maquina remota con su propia IP (Vagrantfile)
  config.vm.network "private_network", ip: "192.168.33.10"

//Hacemos ping a las maquinas de nuestro inventario
$ ansible all -i hosts/inventory.ini -m ping
$ ansible virtualmachine -i hosts/inventory.ini -m ping

//Ejecutamos el playbook en nuestra maquina 'remota'
$ ansible-playbook provisioning/playbook.yml -i hosts/inventory.ini 


---Non tested

$ ssh-copy-id -i .ssh/id_rsa.pub ansible@nodo1



